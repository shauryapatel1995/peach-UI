<html>
    <head>
        <title>Hello</title>
        <style></style>
        
    </head>
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css"
        integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous">
    <style>
        
        .button-secondary {
            background: rgb(66, 184, 221); /* this is a light blue */
        }
        table{
        overflow-y:scroll; 
        height:400px; 
        margin-top:10px;
        width: 450px;
        }
    #parent_div_1{
    width:70%;
    height: 100%;
    
    margin-right:10px;
    float:right;
} #parent_div_2 {
    width:25%;
    height: 100%;
    margin-right:10px;
    float:left;
}
#parent_div_3 {
    width:45%;
    height: 100%;
    margin-right:10px;
    float:right;
}
.child_div_1{
    width:50%;
    float:left;
    margin-top: 10px;
    margin-right:5px;
}
.child_div_2{
    float:left;
    margin-top: 10px;
    margin-right:5px;
}
    </style>
    
        
    <body>
        
        <button type="button" id="btn" class="pure-button pure-button-active button-secondary"> Read Memory!</button>
        <button type="button" id="pipe" class="pure-button pure-button-active button-secondary"> Run Pipeline!</button>
        <input id="numCycles" type="integer">
        Enter number of cycles
        </textarea>
        <p id="PC">Program Counter:</p>
        <div id="parent_div_2">
        
        <div class="child_div_1">
            Program text will go here
        </div>
        </div>
        <div id="parent_div_1">
        <div id="parent_div_3">

        <div class="child_div_1">
            <table id="memory" class="pure-table"><thead>
                <tr>
                    <th>Tag</th>
                    <th>Index</th>
                    <th>Memory</th>
                </tr>
            </thead>
            </table>
            <table id="cache" class="pure-table">
                <thead>
                    <tr>
                        <th>Tag</th>
                        <th>Index</th>
                        <th>Memory</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
        <div id="parent_div_3">
        <div class="child_div_2">
            <table id="regs" class="pure-table">
                <thead>
                    <tr>
                        <th>Register</th>
                        <th>Value</th>
                    </tr>
                </thead>
            </table>
            
        
        
            <table id="pipeinfo" class="pure-table">
                <thead>
                    <tr>
                        <th>Decode</th>
                        <th>Execute</th>
                        <th>Memory</th>
                        <th>Write back</th>
                    </tr>
                </thead>
            </table>
        </div>
        </div>
        </div>

        <script type="text/tiscript">
             
            var btn = $(button#btn);
            var pipe = $(button#pipe);

            btn.onClick = function() {
                
                stdout.println("Running");
                var memory = self#memory;
                var pc = self#PC;
                var pipe = self#pipeinfo;
                var cache = self#cache;
                var regs = self#regs;
                var pipeval = pipe.html;
                var memoryval = "<thead> <tr><th>Tag</th><th>Index</th><th>Memory</th></tr></thead>";
                var cacheval = "<thead><tr><th>Tag</th><th>Index</th><th>Memory</th></tr></thead>";
                var regval = "<thead><tr><th>Register</th><th>Value</th></tr></thead>";
                pc.html = "Program Counter: " + view.getPc();
                memory.html = memoryval + view.runPipelineUI(50);
                pipe.html =  pipeval + view.getPipelineInfo();
                cache.html = cacheval + view.showCache();
                regs.html = regval + view.getRegs();

            };

            pipe.onClick = function() {
                var cycles = self#numCycles;
                stdout.println("Running pipeline");
                stdout.println(cycles.value);
                view.run_pipeline(cycles.value);
            };
    </script>
        
</body>
</html>